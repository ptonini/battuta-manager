{% extends 'main.html' %}
{% load staticfiles %}
{% block header %}{% endblock %}
{% block content %}
    <script src="{% static 'runner/results.js' %}"></script>
    <script src="{% static 'jspdf/jspdf.min.js' %}"></script>
    <div id="job_result">
        <h4 style="margin-top: 20px"><strong>{{ runner.name }}</strong></h4>
        <input id="runner_id" type="hidden" value="{{ runner.id }}">
        <div class="row">
            <div class="col-md-1" style="margin: 7px 0"><h5>Status:</h5></div>
            <div class="col-md-3" style="margin: 7px 0">
                <h5>
                    <strong id="runner_status" style="padding-right: 10px">{{ runner.status }}</strong>
                    <span id="running_gif" style="display: none;">
                        <img src="{% static 'images/waiting-small.gif' %}">&nbsp&nbsp
                    </span>
                </h5>
            </div>
            <div class="col-md-8 text-right" style="margin: 7px 0">
                <h5>
                    <button id="cancel_runner" class="btn btn-danger btn-xs" style="display: none;">Cancel</button>
                    <button id="show_stats" class="btn btn-default btn-xs" style="display: none;">Stats</button>
                </h5>
            </div>
        </div>
        <div class="row">
            <div class="col-md-1">User:</div>
            <div class="col-md-3"><strong>{{ runner.user }}</strong></div>
            <div class="playbook_only">
                <div class="col-md-1">Subset:</div>
                <div class="col-md-3"><strong>{{ runner.subset }}</strong></div>
                <div class="col-md-1">Tags:</div>
                <div class="col-md-3"><strong>{{ runner.tags }}</strong></div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-1" style="padding-right: 0">Run date:</div>
            <div class="col-md-3"><strong>{{ runner.created_on }}</strong></div>
            <div class="playbook_only">
                <div class="col-md-1">Check:</div>
                <div class="col-md-3"><strong>{{ runner.check }}</strong></div>
                <div class="col-md-1" style="padding-right: 0">Skip tags:</div>
                <div class="col-md-3"><strong>{{ runner.skip_tags }}</strong></div>
            </div>
        </div>
        <div class="row" id="message_div" style="display: none">
            <div class="col-md-12">
                <h6><strong id="runner_message"></strong></h6>
            </div>
        </div>
        <div id="result_container"></div>
    </div>
    <div class="hidden">
        <div id="stats_dialog" style="overflow-x: hidden;">
            <h5>Statistics</h5>
            <table id="stats_table" class="table table-condensed table-hover table-striped">
                <thead>
                <tr>
                    <th class="col-md-3">host</th>
                    <th class="col-md-1">ok</th>
                    <th class="col-md-1">changed</th>
                    <th class="col-md-1">dark</th>
                    <th class="col-md-1">failures</th>
                    <th class="col-md-1">skipped</th>
                </tr>
                </thead>
            </table>
        </div>
    </div>
{% endblock %}